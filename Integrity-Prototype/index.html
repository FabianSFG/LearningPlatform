<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrity AI | Partner Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --primary: #006b54;
            --primary-glow: rgba(0, 107, 84, 0.4);
            --bg: #020617;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-hover: rgba(255, 255, 255, 0.07);
            --border: rgba(255, 255, 255, 0.1);
            --text: #f8fafc;
            --text-dim: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background: var(--bg); color: var(--text); height: 100vh; display: flex; overflow: hidden; }

        /* --- LOGIN --- */
        #login-screen {
            position: fixed; inset: 0; background: radial-gradient(circle at top right, var(--primary) 0%, var(--bg) 70%);
            display: flex; align-items: center; justify-content: center; z-index: 1000;
            transition: transform 0.8s cubic-bezier(0.87, 0, 0.13, 1);
        }
        .login-card {
            background: rgba(255, 255, 255, 0.01); backdrop-filter: blur(30px);
            padding: 50px; border-radius: 40px; width: 440px; border: 1px solid var(--border); text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }
        .styled-input {
            width: 100%; background: rgba(255,255,255,0.05); border: 1px solid var(--border);
            padding: 16px; border-radius: 14px; color: white; margin-bottom: 15px; outline: none; transition: 0.3s;
        }
        .styled-input:focus { border-color: var(--primary); background: rgba(255,255,255,0.1); }
        .btn-action {
            width: 100%; background: var(--primary); color: white; border: none; padding: 18px;
            border-radius: 14px; font-weight: 800; cursor: pointer; transition: 0.3s; box-shadow: 0 10px 20px var(--primary-glow);
        }
        .btn-action:hover { transform: translateY(-3px); box-shadow: 0 15px 30px var(--primary-glow); }

        /* --- APP LAYOUT --- */
        #app-container { display: none; width: 100%; height: 100%; }
        .sidebar { width: 280px; border-right: 1px solid var(--border); padding: 40px 20px; display: flex; flex-direction: column; background: rgba(0,0,0,0.2); }
        .nav-item { padding: 14px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 12px; color: var(--text-dim); transition: 0.2s; margin-bottom: 8px; }
        .nav-item:hover { background: var(--glass-hover); color: white; }
        .nav-item.active { background: var(--primary); color: white; font-weight: 700; }
        
        .main-view { flex: 1; padding: 40px; overflow-y: auto; scroll-behavior: smooth; }

        /* --- DASHBOARD & CARDS --- */
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; }
        .glass-card { 
            background: var(--glass); border: 1px solid var(--border); padding: 25px; border-radius: 24px; 
            transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer;
        }
        .glass-card:hover { transform: scale(1.02); background: var(--glass-hover); border-color: var(--primary); }
        
        /* --- VIDEO PLAYER SIM --- */
        .video-box { 
            width: 100%; height: 350px; background: #000; border-radius: 24px; position: relative;
            display: flex; align-items: center; justify-content: center; overflow: hidden; border: 1px solid var(--border);
        }
        .video-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .video-box:hover .video-overlay { background: rgba(0,0,0,0.2); }
        .play-btn { width: 80px; height: 80px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.3s; }
        .play-btn:hover { transform: scale(1.1); }

        /* --- COMMUNITY --- */
        .forum-row { background: var(--glass); border: 1px solid var(--border); border-radius: 20px; display: flex; margin-bottom: 15px; cursor: pointer; transition: 0.3s; }
        .forum-row:hover { border-color: var(--primary); }
        .votes { width: 50px; border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; justify-content: center; font-weight: 800; color: var(--text-dim); }
        .post-body { padding: 20px; flex: 1; }
        .tag { background: var(--primary); padding: 4px 10px; border-radius: 6px; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; }

        /* --- AI SIDEKICK --- */
        .ai-sidekick { position: fixed; bottom: -150px; right: 30px; width: 320px; background: white; color: #020617; padding: 25px; border-radius: 24px; transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 2000; box-shadow: 0 20px 40px rgba(0,0,0,0.4); }
        .ai-sidekick.active { bottom: 30px; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h1 style="color: var(--primary); font-size: 2.8rem; letter-spacing: -1px; margin-bottom: 8px;">AI IP</h1>
            <p style="color: var(--text-dim); margin-bottom: 35px; font-weight: 500;">Secure Partner Portal</p>
            <input type="text" class="styled-input" placeholder="Username (Corrie)" id="user-in">
            <input type="password" class="styled-input" placeholder="Password">
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 25px; font-size: 0.85rem; color: var(--text-dim);">
                <input type="checkbox" id="rules-check" style="width:18px; height:18px; accent-color: var(--primary);">
                <label for="rules-check">I accept the Integrity Community Rules</label>
            </div>
            <button class="btn-action" onclick="handleLogin()">Login to Dashboard</button>
        </div>
    </div>

    <div id="app-container">
        <aside class="sidebar">
            <div style="font-size: 1.8rem; font-weight: 800; color: var(--primary); margin-bottom: 50px; display: flex; align-items: center; gap: 10px;">
                <i data-lucide="shield-check"></i> AI IP
            </div>
            <nav style="flex: 1;">
                <div class="nav-item active" onclick="nav('dash', this)"><i data-lucide="layout"></i> Dashboard</div>
                <div class="nav-item" onclick="nav('comm', this)"><i data-lucide="users"></i> Community</div>
                <div class="nav-item" onclick="nav('learn', this)"><i data-lucide="book-open"></i> Learning Hub</div>
            </nav>
            <div class="nav-item" style="color:#ef4444; border-top: 1px solid var(--border); padding-top: 20px;" onclick="location.reload()">
                <i data-lucide="log-out"></i> Logout
            </div>
        </aside>

        <main class="main-view" id="content-view"></main>
    </div>

    <div id="ai-agent" class="ai-sidekick">
        <div style="display:flex; align-items:center; gap:10px; font-weight:800; color:var(--primary); margin-bottom:12px;">
            <i data-lucide="sparkles"></i> AI SIDEKICK
        </div>
        <p id="ai-text" style="font-size: 0.9rem; line-height: 1.5; font-weight: 500;"></p>
    </div>

    <script>
        lucide.createIcons();

        let threadsDB = {
            't1': { title: 'AI Implementation Strategy 2026', votes: 156, tag: 'Strategy', comments: [{u: 'Alex_Admin', t: 'Focus on local LLMs for data privacy.'}] },
            't2': { title: 'Compliance Laws in QLD/NSW', votes: 89, tag: 'Legal', comments: [] },
            't3': { title: 'Best Prompting for Legal Docs', votes: 242, tag: 'Automation', comments: [] }
        };

        function handleLogin() {
            if(!document.getElementById('rules-check').checked) return alert("Please accept the rules.");
            document.getElementById('login-screen').style.transform = "translateY(-100%)";
            setTimeout(() => {
                document.getElementById('app-container').style.display = 'flex';
                nav('dash', document.querySelector('.nav-item'));
            }, 600);
        }

        function nav(view, el) {
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            el.classList.add('active');
            render(view);
        }

        function render(view) {
            const out = document.getElementById('content-view');
            if(view === 'dash') {
                out.innerHTML = `
                    <h1 style="font-size: 2.2rem; font-weight: 800;">Welcome back, Corrie</h1>
                    <div class="grid-3">
                        <div class="glass-card"><h3>MEMBERS ONLINE</h3><div style="font-size: 2rem; font-weight: 800; color:var(--primary);">1,420</div></div>
                        <div class="glass-card"><h3>TASKS PENDING</h3><div style="font-size: 2rem; font-weight: 800; color:#3b82f6;">3</div></div>
                        <div class="glass-card"><h3>COMMUNITY PULSE</h3><div style="font-size: 1.2rem; font-weight: 800; color:#10b981;">HIGH ACTIVITY</div></div>
                    </div>
                    <h2 style="margin-bottom: 20px;">Resume Last Lesson</h2>
                    <div class="video-box" onclick="triggerAI('Starting Module 4: Deployment Strategies...')">
                        <div class="video-overlay"><div class="play-btn"><i data-lucide="play" fill="white"></i></div></div>
                        <p style="margin-top: 150px; color: var(--text-dim);">Module 4: Scaling AI Agents</p>
                    </div>
                `;
            } else if(view === 'comm') {
                out.innerHTML = `
                    <h1 style="margin-bottom: 30px;">Community Feed</h1>
                    <div id="feed-list">
                        ${Object.keys(threadsDB).map(id => `
                            <div class="forum-row" onclick="openThread('${id}')">
                                <div class="votes"><i data-lucide="chevron-up"></i>${threadsDB[id].votes}</div>
                                <div class="post-body">
                                    <span class="tag">${threadsDB[id].tag}</span>
                                    <h3 style="margin-top:10px;">${threadsDB[id].title}</h3>
                                    <p style="font-size:0.8rem; color:var(--text-dim); margin-top:5px;">Click to view ${threadsDB[id].comments.length} comments</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if(view === 'learn') {
                out.innerHTML = `
                    <h1>Learning Hub</h1>
                    <div class="grid-3" style="grid-template-columns: 1fr 1fr;">
                        <div class="glass-card" onclick="openCourse('AI Fundamentals')">
                            <div style="height:140px; background:var(--primary); border-radius:15px; margin-bottom:15px; display:flex; align-items:center; justify-content:center;"><i data-lucide="play-circle" size="48"></i></div>
                            <h3>AI Fundamentals</h3><p>12 Lessons • 4h 30m</p>
                        </div>
                        <div class="glass-card" onclick="openCourse('Legal & Ethics')">
                            <div style="height:140px; background:#1e293b; border-radius:15px; margin-bottom:15px; display:flex; align-items:center; justify-content:center;"><i data-lucide="shield" size="48"></i></div>
                            <h3>Legal & Ethics</h3><p>8 Lessons • 2h 15m</p>
                        </div>
                    </div>
                `;
            }
            lucide.createIcons();
        }

        function openThread(id) {
            const thread = threadsDB[id];
            const out = document.getElementById('content-view');
            out.innerHTML = `
                <div style="color:var(--primary); cursor:pointer; margin-bottom:20px; font-weight:700;" onclick="render('comm')">← Back to Community</div>
                <h1>${thread.title}</h1>
                <div id="comment-list" style="margin-top:30px;">
                    ${thread.comments.map(c => `
                        <div style="background:var(--glass); padding:15px; border-radius:12px; border-left:4px solid var(--primary); margin-bottom:10px;">
                            <strong>${c.u}:</strong> ${c.t}
                        </div>
                    `).join('')}
                </div>
                <div style="margin-top:30px; display:flex; gap:10px;">
                    <input type="text" id="new-msg" placeholder="Write a comment..." class="styled-input" style="margin:0;">
                    <button class="btn-action" style="width:auto; padding:0 30px;" onclick="addComment('${id}')">Post</button>
                </div>
            `;
            lucide.createIcons();
        }

        function addComment(id) {
            const val = document.getElementById('new-msg').value;
            if(!val) return;
            threadsDB[id].comments.push({u: 'Corrie (You)', t: val});
            openThread(id);
            triggerAI("Your comment has been indexed. I'll notify the thread creator.");
        }

        function openCourse(title) {
            const out = document.getElementById('content-view');
            out.innerHTML = `
                <div style="color:var(--primary); cursor:pointer; margin-bottom:20px; font-weight:700;" onclick="render('learn')">← Back to Courses</div>
                <h1>${title}</h1>
                <div class="video-box" style="margin-top:20px;">
                    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen style="border-radius:24px;"></iframe>
                </div>
                <div style="margin-top:30px;">
                    <h3>Course Modules</h3>
                    <div class="nav-item" style="background:var(--glass); border:1px solid var(--border); margin-top:10px;">1. Introduction to the Platform</div>
                    <div class="nav-item" style="background:var(--glass); border:1px solid var(--border);">2. Analyzing Integrity Data</div>
                </div>
            `;
            lucide.createIcons();
            triggerAI("Course player launched. Focus mode enabled.");
        }

        function triggerAI(msg) {
            const popup = document.getElementById('ai-agent');
            document.getElementById('ai-text').innerText = msg;
            popup.classList.add('active');
            setTimeout(() => popup.classList.remove('active'), 4500);
        }
    </script>
</body>
</html>